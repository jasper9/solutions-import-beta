/**
 * marked - A markdown parser (https://github.com/chjj/marked)
 * Copyright (c) 2011-2012, Christopher Jeffrey. (MIT Licensed)
 */

define(function(require,exports,module){(function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/,block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,block.item=replace(block.item,"gm")(/bull/g,block.bullet)(),block.list=replace(block.list)(/bull/g,block.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),block.html=replace(block.html)("comment",/<!--[^\0]*?-->/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,tag())(),block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+tag())("def",block.def)(),block.normal={fences:block.fences,paragraph:block.paragraph},block.gfm={fences:/^ *(```|~~~) *(\w+)? *\n([^\0]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/},block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|")(),block.lexer=function(src){var tokens=[];return tokens.links={},src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),block.token(src,tokens,!0)},block.token=function(src,tokens,top){var src=src.replace(/^ +$/gm,""),next,loose,cap,item,space,i,l;while(src){if(cap=block.newline.exec(src))src=src.substring(cap[0].length),cap[0].length>1&&tokens.push({type:"space"});if(cap=block.code.exec(src)){src=src.substring(cap[0].length),cap=cap[0].replace(/^ {4}/gm,""),tokens.push({type:"code",text:options.pedantic?cap:cap.replace(/\n+$/,"")});continue}if(cap=block.fences.exec(src)){src=src.substring(cap[0].length),tokens.push({type:"code",lang:cap[2],text:cap[3]});continue}if(cap=block.heading.exec(src)){src=src.substring(cap[0].length),tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if(cap=block.lheading.exec(src)){src=src.substring(cap[0].length),tokens.push({type:"heading",depth:cap[2]==="="?1:2,text:cap[1]});continue}if(cap=block.hr.exec(src)){src=src.substring(cap[0].length),tokens.push({type:"hr"});continue}if(cap=block.blockquote.exec(src)){src=src.substring(cap[0].length),tokens.push({type:"blockquote_start"}),cap=cap[0].replace(/^ *> ?/gm,""),block.token(cap,tokens,top),tokens.push({type:"blockquote_end"});continue}if(cap=block.list.exec(src)){src=src.substring(cap[0].length),tokens.push({type:"list_start",ordered:isFinite(cap[2])}),cap=cap[0].match(block.item),next=!1,l=cap.length,i=0;for(;i<l;i++)item=cap[i],space=item.length,item=item.replace(/^ *([*+-]|\d+\.) +/,""),~item.indexOf("\n ")&&(space-=item.length,item=options.pedantic?item.replace(/^ {1,4}/gm,""):item.replace(new RegExp("^ {1,"+space+"}","gm"),"")),loose=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next=item[item.length-1]==="\n",loose||(loose=next)),tokens.push({type:loose?"loose_item_start":"list_item_start"}),block.token(item,tokens),tokens.push({type:"list_item_end"});tokens.push({type:"list_end"});continue}if(cap=block.html.exec(src)){src=src.substring(cap[0].length),tokens.push({type:options.sanitize?"paragraph":"html",pre:cap[1]==="pre",text:cap[0]});continue}if(top&&(cap=block.def.exec(src))){src=src.substring(cap[0].length),tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};continue}if(top&&(cap=block.paragraph.exec(src))){src=src.substring(cap[0].length),tokens.push({type:"paragraph",text:cap[0]});continue}if(cap=block.text.exec(src)){src=src.substring(cap[0].length),tokens.push({type:"text",text:cap[0]});continue}}return tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[^\0]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/};inline._linkInside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,inline._linkHref=/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/,inline.link=replace(inline.link)("inside",inline._linkInside)("href",inline._linkHref)(),inline.reflink=replace(inline.reflink)("inside",inline._linkInside)(),inline.normal={url:inline.url,strong:inline.strong,em:inline.em,text:inline.text},inline.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/},inline.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/},inline.lexer=function(src){var out="",links=tokens.links,link,text,href,cap;while(src){if(cap=inline.escape.exec(src)){src=src.substring(cap[0].length),out+=cap[1];continue}if(cap=inline.autolink.exec(src)){src=src.substring(cap[0].length),cap[2]==="@"?(text=cap[1][6]===":"?mangle(cap[1].substring(7)):mangle(cap[1]),href=mangle("mailto:")+text):(text=escape(cap[1]),href=text),out+='<a href="'+href+'">'+text+"</a>";continue}if(cap=inline.url.exec(src)){src=src.substring(cap[0].length),text=escape(cap[1]),href=text,out+='<a href="'+href+'">'+text+"</a>";continue}if(cap=inline.tag.exec(src)){src=src.substring(cap[0].length),out+=options.sanitize?escape(cap[0]):cap[0];continue}if(cap=inline.link.exec(src)){src=src.substring(cap[0].length),out+=outputLink(cap,{href:cap[2],title:cap[3]});continue}if((cap=inline.reflink.exec(src))||(cap=inline.nolink.exec(src))){src=src.substring(cap[0].length),link=(cap[2]||cap[1]).replace(/\s+/g," "),link=links[link.toLowerCase()];if(!link||!link.href){out+=cap[0][0],src=cap[0].substring(1)+src;continue}out+=outputLink(cap,link);continue}if(cap=inline.strong.exec(src)){src=src.substring(cap[0].length),out+="<strong>"+inline.lexer(cap[2]||cap[1])+"</strong>";continue}if(cap=inline.em.exec(src)){src=src.substring(cap[0].length),out+="<em>"+inline.lexer(cap[2]||cap[1])+"</em>";continue}if(cap=inline.code.exec(src)){src=src.substring(cap[0].length),out+="<code>"+escape(cap[2],!0)+"</code>";continue}if(cap=inline.br.exec(src)){src=src.substring(cap[0].length),out+="<br>";continue}if(cap=inline.text.exec(src)){src=src.substring(cap[0].length),out+=escape(cap[0]);continue}}return out};function outputLink(cap,link){return cap[0][0]!=="!"?'<a href="'+escape(link.href)+'"'+(link.title?' title="'+escape(link.title)+'"':"")+">"+inline.lexer(cap[1])+"</a>":'<img src="'+escape(link.href)+'" alt="'+escape(cap[1])+'"'+(link.title?' title="'+escape(link.title)+'"':"")+">"}var tokens,token;function next(){return token=tokens.pop()}function tok(){switch(token.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+token.depth+">"+inline.lexer(token.text)+"</h"+token.depth+">\n";case"code":return options.highlight&&(token.code=options.highlight(token.text,token.lang),token.code!=null&&token.code!==token.text&&(token.escaped=!0,token.text=token.code)),token.escaped||(token.text=escape(token.text,!0)),"<pre><code"+(token.lang?' class="lang-'+token.lang+'"':"")+">"+token.text+"</code></pre>\n";case"blockquote_start":var body="";while(next().type!=="blockquote_end")body+=tok();return"<blockquote>\n"+body+"</blockquote>\n";case"list_start":var type=token.ordered?"ol":"ul",body="";while(next().type!=="list_end")body+=tok();return"<"+type+">\n"+body+"</"+type+">\n";case"list_item_start":var body="";while(next().type!=="list_item_end")body+=token.type==="text"?parseText():tok();return"<li>"+body+"</li>\n";case"loose_item_start":var body="";while(next().type!=="list_item_end")body+=tok();return"<li>"+body+"</li>\n";case"html":return!token.pre&&!options.pedantic?inline.lexer(token.text):token.text;case"paragraph":return"<p>"+inline.lexer(token.text)+"</p>\n";case"text":return"<p>"+parseText()+"</p>\n"}}function parseText(){var body=token.text,top;while((top=tokens[tokens.length-1])&&top.type==="text")body+="\n"+next().text;return inline.lexer(body)}function parse(src){tokens=src.reverse();var out="";while(next())out+=tok();return tokens=null,token=null,out}function escape(html,encode){return html.replace(encode?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function mangle(text){var out="",l=text.length,i=0,ch;for(;i<l;i++)ch=text.charCodeAt(i),Math.random()>.5&&(ch="x"+ch.toString(16)),out+="&#"+ch+";";return out}function tag(){var tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b";return tag}function replace(regex,opt){return regex=regex.source,opt=opt||"",function self(name,val){return name?(val=val.source||val,val=val.replace(/(^|[^\[])\^/g,"$1"),regex=regex.replace(name,val),self):new RegExp(regex,opt)}}function noop(){}noop.exec=noop;function marked(src,opt){return setOptions(opt),parse(block.lexer(src))}var options,defaults;function setOptions(opt){opt||(opt=defaults);if(options===opt)return;options=opt,options.gfm?(block.fences=block.gfm.fences,block.paragraph=block.gfm.paragraph,inline.text=inline.gfm.text,inline.url=inline.gfm.url):(block.fences=block.normal.fences,block.paragraph=block.normal.paragraph,inline.text=inline.normal.text,inline.url=inline.normal.url),options.pedantic?(inline.em=inline.pedantic.em,inline.strong=inline.pedantic.strong):(inline.em=inline.normal.em,inline.strong=inline.normal.strong)}marked.options=marked.setOptions=function(opt){return defaults=opt,setOptions(opt),marked},marked.setOptions({gfm:!0,pedantic:!1,sanitize:!1,highlight:null}),marked.parser=function(src,opt){return setOptions(opt),parse(src)},marked.lexer=function(src,opt){return setOptions(opt),block.lexer(src)},marked.parse=marked,typeof module!="undefined"?module.exports=marked:this.marked=marked}).call(function(){return this||(typeof window!="undefined"?window:global)}())});